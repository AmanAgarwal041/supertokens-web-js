"use strict";var supertokensThirdPartyPasswordless;(self.webpackChunksupertokens_web_js=self.webpackChunksupertokens_web_js||[]).push([[425],{4706:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{d(n.next(e))}catch(e){i(e)}}function a(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.clearPasswordlessLoginAttemptInfo=t.setPasswordlessLoginAttemptInfo=t.getPasswordlessLoginAttemptInfo=t.getPasswordlessPreAuthSessionIdFromURL=t.getPasswordlessLinkCodeFromURL=t.getThirdPartyAuthStateFromURL=t.getThirdPartyAuthErrorFromURL=t.getThirdPartyAuthCodeFromURL=t.verifyAndGetThirdPartyStateOrThrowError=t.generateThirdPartyStateToSendToOAuthProvider=t.setThirdPartyStateAndOtherInfoToStorage=t.getThirdPartyStateAndOtherInfoFromStorage=t.getAuthorisationURLFromBackend=t.signOut=t.doesPasswordlessUserPhoneNumberExist=t.doesPasswordlessUserEmailExist=t.consumePasswordlessCode=t.resendPasswordlessCode=t.createPasswordlessCode=t.isEmailVerified=t.sendVerificationEmail=t.verifyEmail=t.thirdPartySignInAndUp=t.getThirdPartyAuthorisationURLWithQueryParamsAndSetState=t.init=void 0;var s=r(8495),a=r(8122),d=r(4921),u=function(){function e(){}return e.init=function(e){return s.default.init(e)},e.signOut=function(e){return s.default.getInstanceOrThrow().signOut({userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)})},e.getAuthorisationURLFromBackend=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getAuthorisationURLFromBackend(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(e.userContext)}))},e.thirdPartySignInAndUp=function(e){return s.default.getInstanceOrThrow().recipeImplementation.thirdPartySignInAndUp(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.getThirdPartyStateAndOtherInfoFromStorage=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getThirdPartyStateAndOtherInfoFromStorage(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.setThirdPartyStateAndOtherInfoToStorage=function(e){return s.default.getInstanceOrThrow().recipeImplementation.setThirdPartyStateAndOtherInfoToStorage(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(e.userContext)}))},e.getThirdPartyAuthorisationURLWithQueryParamsAndSetState=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getThirdPartyAuthorisationURLWithQueryParamsAndSetState(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(e.userContext)}))},e.generateThirdPartyStateToSendToOAuthProvider=function(e){return s.default.getInstanceOrThrow().recipeImplementation.generateThirdPartyStateToSendToOAuthProvider(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.verifyAndGetThirdPartyStateOrThrowError=function(e){return s.default.getInstanceOrThrow().recipeImplementation.verifyAndGetThirdPartyStateOrThrowError(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(e.userContext)}))},e.getThirdPartyAuthCodeFromURL=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getThirdPartyAuthCodeFromURL(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.getThirdPartyAuthErrorFromURL=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getThirdPartyAuthErrorFromURL(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.getThirdPartyAuthStateFromURL=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getThirdPartyAuthStateFromURL(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.createPasswordlessCode=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){return t=s.default.getInstanceOrThrow(),[2,d.createCode(n(n({},e),{recipeImplementation:t.passwordlessRecipe.recipeImplementation}))]}))}))},e.resendPasswordlessCode=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){return t=s.default.getInstanceOrThrow(),[2,d.resendCode(n(n({},e),{recipeImplementation:t.passwordlessRecipe.recipeImplementation}))]}))}))},e.consumePasswordlessCode=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){return t=s.default.getInstanceOrThrow(),[2,d.consumeCode(n(n({},e),{recipeImplementation:t.passwordlessRecipe.recipeImplementation}))]}))}))},e.getPasswordlessLinkCodeFromURL=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getPasswordlessLinkCodeFromURL(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.getPasswordlessPreAuthSessionIdFromURL=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getPasswordlessPreAuthSessionIdFromURL(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.verifyEmail=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){return[2,s.default.getInstanceOrThrow().emailVerificationRecipe.recipeImplementation.verifyEmail(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))]}))}))},e.sendVerificationEmail=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){return[2,s.default.getInstanceOrThrow().emailVerificationRecipe.recipeImplementation.sendVerificationEmail(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))]}))}))},e.isEmailVerified=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){return[2,s.default.getInstanceOrThrow().emailVerificationRecipe.recipeImplementation.isEmailVerified(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))]}))}))},e.doesPasswordlessUserEmailExist=function(e){return s.default.getInstanceOrThrow().recipeImplementation.doesPasswordlessUserEmailExist(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(e.userContext)}))},e.doesPasswordlessUserPhoneNumberExist=function(e){return s.default.getInstanceOrThrow().recipeImplementation.doesPasswordlessUserPhoneNumberExist(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(e.userContext)}))},e.getPasswordlessLoginAttemptInfo=function(e){return s.default.getInstanceOrThrow().recipeImplementation.getPasswordlessLoginAttemptInfo(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.setPasswordlessLoginAttemptInfo=function(e){return s.default.getInstanceOrThrow().recipeImplementation.setPasswordlessLoginAttemptInfo(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e.clearPasswordlessLoginAttemptInfo=function(e){return s.default.getInstanceOrThrow().recipeImplementation.clearPasswordlessLoginAttemptInfo(n(n({},e),{userContext:(0,a.getNormalisedUserContext)(null==e?void 0:e.userContext)}))},e}();t.default=u;var l=u.init;t.init=l;var c=u.getThirdPartyAuthorisationURLWithQueryParamsAndSetState;t.getThirdPartyAuthorisationURLWithQueryParamsAndSetState=c;var f=u.thirdPartySignInAndUp;t.thirdPartySignInAndUp=f;var h=u.verifyEmail;t.verifyEmail=h;var m=u.sendVerificationEmail;t.sendVerificationEmail=m;var p=u.isEmailVerified;t.isEmailVerified=p;var g=u.createPasswordlessCode;t.createPasswordlessCode=g;var P=u.resendPasswordlessCode;t.resendPasswordlessCode=P;var v=u.consumePasswordlessCode;t.consumePasswordlessCode=v;var w=u.doesPasswordlessUserEmailExist;t.doesPasswordlessUserEmailExist=w;var A=u.doesPasswordlessUserPhoneNumberExist;t.doesPasswordlessUserPhoneNumberExist=A;var I=u.getAuthorisationURLFromBackend;t.getAuthorisationURLFromBackend=I;var y=u.getThirdPartyStateAndOtherInfoFromStorage;t.getThirdPartyStateAndOtherInfoFromStorage=y;var T=u.setThirdPartyStateAndOtherInfoToStorage;t.setThirdPartyStateAndOtherInfoToStorage=T;var C=u.generateThirdPartyStateToSendToOAuthProvider;t.generateThirdPartyStateToSendToOAuthProvider=C;var S=u.verifyAndGetThirdPartyStateOrThrowError;t.verifyAndGetThirdPartyStateOrThrowError=S;var U=u.getThirdPartyAuthCodeFromURL;t.getThirdPartyAuthCodeFromURL=U;var L=u.getThirdPartyAuthErrorFromURL;t.getThirdPartyAuthErrorFromURL=L;var b=u.getThirdPartyAuthStateFromURL;t.getThirdPartyAuthStateFromURL=b;var x=u.getPasswordlessLinkCodeFromURL;t.getPasswordlessLinkCodeFromURL=x;var O=u.getPasswordlessPreAuthSessionIdFromURL;t.getPasswordlessPreAuthSessionIdFromURL=O;var R=u.getPasswordlessLoginAttemptInfo;t.getPasswordlessLoginAttemptInfo=R;var E=u.setPasswordlessLoginAttemptInfo;t.setPasswordlessLoginAttemptInfo=E;var F=u.clearPasswordlessLoginAttemptInfo;t.clearPasswordlessLoginAttemptInfo=F;var k=u.signOut;t.signOut=k},8495:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Recipe=void 0;var s=r(6277),a=r(9102),d=r(2856),u=r(3063),l=r(6333),c=r(1187),f=r(8122),h=r(5491),m=r(9817),p=function(e){function t(t,r){var n,o=e.call(this,(0,u.normaliseUserInput)(t),r)||this,i=new l.default((0,c.default)({recipeId:o.config.recipeId,appInfo:o.config.appInfo,preAPIHook:o.config.preAPIHook,postAPIHook:o.config.postAPIHook})).override(o.config.override.functions).build();return o.recipeImplementation=i,o.thirdPartyRecipe=void 0===r.thirdParty?new a.default({recipeId:o.config.recipeId,appInfo:o.config.appInfo,preAPIHook:t.preAPIHook,postAPIHook:t.postAPIHook,override:{emailVerification:null===(n=t.override)||void 0===n?void 0:n.emailVerification,functions:function(){return(0,h.default)(i)}}},{emailVerification:o.emailVerificationRecipe}):r.thirdParty,o.passwordlessRecipe=void 0===r.passwordless?new d.default({recipeId:o.config.recipeId,appInfo:o.config.appInfo,preAPIHook:t.preAPIHook,postAPIHook:t.postAPIHook,override:{functions:function(){return(0,m.default)(i)}}}):r.passwordless,o}return o(t,e),t.getInstanceOrThrow=function(){if(void 0===t.instance){var e="No instance of ThirdPartyPasswordless found. Make sure to call the ThirdPartyPasswordless.init method.";throw e=(0,f.checkForSSRErrorAndAppendIfNeeded)(e),Error(e)}return t.instance},t.init=function(e){return function(r){return t.instance=new t(i(i({},e),{recipeId:t.RECIPE_ID,appInfo:r}),{emailVerification:void 0,thirdParty:void 0,passwordless:void 0}),t.instance}},t.reset=function(){(0,f.isTest)()&&(t.instance=void 0)},t.RECIPE_ID="thirdpartypasswordless",t}(s.default);t.Recipe=p,t.default=p},1187:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{d(n.next(e))}catch(e){i(e)}}function a(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRecipeImplementation=void 0;var i=r(3664),s=r(8891),a=r(5491),d=r(9817);function u(e){var t=(0,i.default)(e),r=(0,s.default)(e);return{getAuthorisationURLFromBackend:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,t.getAuthorisationURLFromBackend.bind((0,a.default)(this))(e)]}))}))},thirdPartySignInAndUp:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,t.signInAndUp.bind((0,a.default)(this))(e)]}))}))},getThirdPartyStateAndOtherInfoFromStorage:function(e){return t.getStateAndOtherInfoFromStorage.bind((0,a.default)(this))(e)},setThirdPartyStateAndOtherInfoToStorage:function(e){return t.setStateAndOtherInfoToStorage.bind((0,a.default)(this))(e)},getThirdPartyAuthorisationURLWithQueryParamsAndSetState:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,t.getAuthorisationURLWithQueryParamsAndSetState.bind((0,a.default)(this))(e)]}))}))},generateThirdPartyStateToSendToOAuthProvider:function(e){return t.generateStateToSendToOAuthProvider.bind((0,a.default)(this))(e)},verifyAndGetThirdPartyStateOrThrowError:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,t.verifyAndGetStateOrThrowError.bind((0,a.default)(this))(e)]}))}))},getThirdPartyAuthCodeFromURL:function(e){return t.getAuthCodeFromURL.bind((0,a.default)(this))(e)},getThirdPartyAuthErrorFromURL:function(e){return t.getAuthErrorFromURL.bind((0,a.default)(this))(e)},getThirdPartyAuthStateFromURL:function(e){return t.getAuthStateFromURL.bind((0,a.default)(this))(e)},createPasswordlessCode:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,r.createCode.bind((0,d.default)(this))(e)]}))}))},resendPasswordlessCode:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,r.resendCode.bind((0,d.default)(this))(e)]}))}))},consumePasswordlessCode:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,r.consumeCode.bind((0,d.default)(this))(e)]}))}))},getPasswordlessLinkCodeFromURL:function(e){return r.getLinkCodeFromURL.bind((0,d.default)(this))(e)},getPasswordlessPreAuthSessionIdFromURL:function(e){return r.getPreAuthSessionIdFromURL.bind((0,d.default)(this))(e)},doesPasswordlessUserEmailExist:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,r.doesEmailExist.bind((0,d.default)(this))(e)]}))}))},doesPasswordlessUserPhoneNumberExist:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,r.doesPhoneNumberExist.bind((0,d.default)(this))(e)]}))}))},getPasswordlessLoginAttemptInfo:function(e){return r.getLoginAttemptInfo.bind((0,d.default)(this))(e)},setPasswordlessLoginAttemptInfo:function(e){return r.setLoginAttemptInfo.bind((0,d.default)(this))(e)},clearPasswordlessLoginAttemptInfo:function(e){return r.clearLoginAttemptInfo.bind((0,d.default)(this))(e)}}}t.default=u,t.getRecipeImplementation=u},9817:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{clearLoginAttemptInfo:e.clearPasswordlessLoginAttemptInfo.bind(e),consumeCode:e.consumePasswordlessCode.bind(e),createCode:e.createPasswordlessCode.bind(e),doesEmailExist:e.doesPasswordlessUserEmailExist.bind(e),doesPhoneNumberExist:e.doesPasswordlessUserPhoneNumberExist.bind(e),getLoginAttemptInfo:e.getPasswordlessLoginAttemptInfo.bind(e),resendCode:e.resendPasswordlessCode.bind(e),setLoginAttemptInfo:e.setPasswordlessLoginAttemptInfo.bind(e),getLinkCodeFromURL:e.getPasswordlessLinkCodeFromURL.bind(e),getPreAuthSessionIdFromURL:e.getPasswordlessPreAuthSessionIdFromURL.bind(e)}}},5491:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{getAuthorisationURLFromBackend:e.getAuthorisationURLFromBackend.bind(e),getStateAndOtherInfoFromStorage:e.getThirdPartyStateAndOtherInfoFromStorage.bind(e),getAuthorisationURLWithQueryParamsAndSetState:e.getThirdPartyAuthorisationURLWithQueryParamsAndSetState.bind(e),setStateAndOtherInfoToStorage:e.setThirdPartyStateAndOtherInfoToStorage.bind(e),generateStateToSendToOAuthProvider:e.generateThirdPartyStateToSendToOAuthProvider.bind(e),getAuthCodeFromURL:e.getThirdPartyAuthCodeFromURL.bind(e),getAuthErrorFromURL:e.getThirdPartyAuthErrorFromURL.bind(e),getAuthStateFromURL:e.getThirdPartyAuthStateFromURL.bind(e),verifyAndGetStateOrThrowError:e.verifyAndGetThirdPartyStateOrThrowError.bind(e),signInAndUp:e.thirdPartySignInAndUp.bind(e)}}},3063:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.normaliseUserInput=void 0;var o=r(7870);t.normaliseUserInput=function(e){var t=n({functions:function(e){return e}},e.override);return n(n({},(0,o.normaliseAuthRecipeWithEmailVerificationConfig)(e)),{override:t})}}},e=>{e.O(0,[298,87,560],(()=>(4706,e(e.s=4706))));var t=e.O();supertokensThirdPartyPasswordless=t}]);